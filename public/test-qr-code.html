<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ³Øª QR Code WhatsApp</title>
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .qr-section {
            margin: 20px 0;
            padding: 20px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
        }
        
        .qr-code-display {
            text-align: center;
            margin: 20px 0;
        }
        
        .qr-instructions {
            background: #e3f2fd;
            border: 1px solid #bbdefb;
            border-radius: 8px;
            padding: 15px;
            text-align: right;
            margin: 20px 0;
        }
        
        .test-results {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
            margin: 20px 0;
        }
        
        .btn {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        
        .btn:hover {
            background: #0056b3;
        }
        
        .status {
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        
        .status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .status.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .status.info {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”§ ØªØ³Øª QR Code WhatsApp</h1>
        
        <div class="qr-section">
            <h3>ğŸ“± QR Code Ø§ØµÙ„ÛŒ (Ø®Ø§Ù…)</h3>
            <div id="qr-raw" class="qr-code-display"></div>
            <div class="test-results">
                <h4>Ø§Ø·Ù„Ø§Ø¹Ø§Øª QR Code:</h4>
                <p><strong>Ù†ÙˆØ¹:</strong> <span id="qr-type">-</span></p>
                <p><strong>Ø·ÙˆÙ„:</strong> <span id="qr-length">-</span></p>
                <p><strong>ÙØ±Ù…Øª:</strong> <span id="qr-format">-</span></p>
            </div>
        </div>
        
        <div class="qr-section">
            <h3>ğŸ”— QR Code Ø¨Ø§ URL</h3>
            <div id="qr-url" class="qr-code-display"></div>
            <div class="test-results">
                <h4>URL ØªÙˆÙ„ÛŒØ¯ Ø´Ø¯Ù‡:</h4>
                <p><code id="url-text">-</code></p>
            </div>
        </div>
        
        <div class="qr-section">
            <h3>ğŸŒ QR Code Ø¨Ø§ WhatsApp Web</h3>
            <div id="qr-web" class="qr-code-display"></div>
            <div class="test-results">
                <h4>WhatsApp Web URL:</h4>
                <p><code id="web-url-text">-</code></p>
            </div>
        </div>
        
        <div class="controls">
            <button id="test-btn" class="btn">ØªØ³Øª QR Code</button>
            <button id="clear-btn" class="btn">Ù¾Ø§Ú©Ø³Ø§Ø²ÛŒ</button>
        </div>
        
        <div id="status" class="status"></div>
        
        <div class="qr-instructions">
            <h4>ğŸ“± Ù†Ø­ÙˆÙ‡ ØªØ³Øª:</h4>
            <ol>
                <li>QR Code Ù‡Ø§ÛŒ Ø¨Ø§Ù„Ø§ Ø±Ø§ Ø¨Ø§ Ú¯ÙˆØ´ÛŒ Ø§Ø³Ú©Ù† Ú©Ù†ÛŒØ¯</li>
                <li>Ø¨Ø¨ÛŒÙ†ÛŒØ¯ Ú©Ø¯Ø§Ù… ÛŒÚ© Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯</li>
                <li>Ù†ØªØ§ÛŒØ¬ Ø±Ø§ Ú¯Ø²Ø§Ø±Ø´ Ø¯Ù‡ÛŒØ¯</li>
            </ol>
        </div>
    </div>

    <script>
        // QR Code test data
        const testQRCode = '2@ybohIfUse1nhF4ZIsFqKSILiWXQR7Lxq1R76RMkflFa0pwgZkfeiXeLRPZjmQ5DZHj9Ji5VkMj0U9oBximpwLMgqLmlBVvzx6FM=,MK+YZoJ3Sqj0MUr5eATdyJry1pgFuMSx8sB65Dxg4CE=,Wm3zKDJb3FD79eRFtqkLDFeKI499gSImU1zKmJPlIT8=,HHWC4kkzzNuWIMaI8NNvVI4nvajuvxap/FmZ8ldLflY=,1';
        
        // DOM elements
        const qrRaw = document.getElementById('qr-raw');
        const qrUrl = document.getElementById('qr-url');
        const qrWeb = document.getElementById('qr-web');
        const status = document.getElementById('status');
        const testBtn = document.getElementById('test-btn');
        const clearBtn = document.getElementById('clear-btn');
        
        // Generate QR Code
        function generateQRCode(container, text) {
            if (typeof QRCode !== 'undefined') {
                container.innerHTML = '';
                new QRCode(container, {
                    text: text,
                    width: 200,
                    height: 200,
                    colorDark: "#000000",
                    colorLight: "#ffffff",
                    correctLevel: QRCode.CorrectLevel.H
                });
            } else {
                container.innerHTML = `<p>Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡ QRCode Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù†Ø´Ø¯Ù‡</p>`;
            }
        }
        
        // Test QR Code
        function testQRCode() {
            status.textContent = 'Ø¯Ø± Ø­Ø§Ù„ ØªØ³Øª QR Code...';
            status.className = 'status info';
            
            try {
                // 1. Raw QR Code
                generateQRCode(qrRaw, testQRCode);
                document.getElementById('qr-type').textContent = 'Raw WhatsApp QR';
                document.getElementById('qr-length').textContent = testQRCode.length;
                document.getElementById('qr-format').textContent = 'Base64-like string';
                
                // 2. QR Code with URL
                const urlQR = `https://wa.me/settings/linked_devices#${testQRCode}`;
                generateQRCode(qrUrl, urlQR);
                document.getElementById('url-text').textContent = urlQR;
                
                // 3. WhatsApp Web QR Code
                const webQR = `https://web.whatsapp.com/#${testQRCode}`;
                generateQRCode(qrWeb, webQR);
                document.getElementById('web-url-text').textContent = webQR;
                
                status.textContent = 'QR Code Ù‡Ø§ÛŒ ØªØ³Øª ØªÙˆÙ„ÛŒØ¯ Ø´Ø¯Ù†Ø¯';
                status.className = 'status success';
                
            } catch (error) {
                console.error('Error testing QR code:', error);
                status.textContent = 'Ø®Ø·Ø§ Ø¯Ø± ØªØ³Øª QR Code';
                status.className = 'status error';
            }
        }
        
        // Clear QR Codes
        function clearQRCodes() {
            qrRaw.innerHTML = '';
            qrUrl.innerHTML = '';
            qrWeb.innerHTML = '';
            
            document.getElementById('qr-type').textContent = '-';
            document.getElementById('qr-length').textContent = '-';
            document.getElementById('qr-format').textContent = '-';
            document.getElementById('url-text').textContent = '-';
            document.getElementById('web-url-text').textContent = '-';
            
            status.textContent = 'QR Code Ù‡Ø§ Ù¾Ø§Ú© Ø´Ø¯Ù†Ø¯';
            status.className = 'status';
        }
        
        // Event listeners
        testBtn.onclick = testQRCode;
        clearBtn.onclick = clearQRCodes;
        
        // Auto test on load
        window.onload = () => {
            console.log('QR Code test page loaded');
            testQRCode();
        };
    </script>
</body>
</html>
